<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gestor de Recetas | Fermentos</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Boxicons + jsPDF -->
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
  <header>
    <img id="uiLogo" alt="Logo Fermentos" />
    <h1>Gestor de Recetas Fermentos</h1>
    <button id="btnToggleTheme" title="Cambiar tema"><i class='bx bx-moon'></i></button>
  </header>

  <main>
    <section class="panel">
      <label for="recetaSelect">Recetas guardadas:</label>
      <select id="recetaSelect">
        <option value="">Selecciona o agrega una receta</option>
      </select>

      <div id="nombreRecetaContainer" data-value="">
        <input id="nombreReceta" type="text" placeholder="Nombre de receta" />
      </div>

      <div class="panel-row">
        <label for="pesoTotal">Peso total (g)</label>
        <input id="pesoTotal" type="number" value="1000" />
      </div>

      <div class="panel-row">
        <label for="pesoMultiplier">Multiplicador</label>
        <input id="pesoMultiplier" type="number" step="0.1" value="1" />
      </div>

      <div class="panel-row rendimiento">
        <label for="rendPiezas">Cantidad de panes</label>
        <input id="rendPiezas" type="number" />
        <label for="rendPesoUnit">Peso por pieza (g)</label>
        <input id="rendPesoUnit" type="number" />
        <div id="rendimientoPreview">—</div>
      </div>

      <div id="ingredientes" class="ingredientes"></div>
      <button id="btnAgregarIngrediente" type="button" class="secondary">Agregar ingrediente</button>

      <div id="tablaWrapper">
        <table>
          <thead>
            <tr><th>Ingrediente</th><th>% Panadero</th><th>Peso (g)</th></tr>
          </thead>
          <tbody id="tablaIngredientes"></tbody>
        </table>
        <div id="sumGrams">0 g</div>
      </div>

      <div class="stats">
        <p>Hidratación total: <span id="statHydrationTotal">—</span></p>
        <p>Starter (% masa): <span id="statStarterPct">—</span></p>
        <p>Salinidad: <span id="statSaltPct">—</span></p>
        <p>Peso efectivo: <span id="statPesoEfectivo">—</span></p>
      </div>

      <div id="instrAmasadoContainer" data-value=""></div>
      <div id="instrHorneadoContainer" data-value=""></div>

      <div class="btn-row">
        <button id="btnGuardar" class="primary">Guardar / Actualizar</button>
        <button id="btnCancelarEdicion" class="secondary">Cancelar</button>
        <button id="btnEliminar" class="danger">Eliminar</button>
        <button id="btnEditar" class="secondary">Editar</button>
        <button id="btnRecalcular" class="secondary">Recalcular</button>
      </div>

      <div class="btn-row">
        <button id="btnDuplicar">Duplicar</button>
        <button id="btnExportar">Exportar PDF</button>
        <button id="btnPreviewPDF">Vista previa PDF</button>
        <button id="btnExportCSV">Exportar CSV</button>
        <button id="btnCompartir">Compartir</button>
      </div>
    </section>
  </main>

  <footer>
    <p>Fermentos App — © 2025</p>
  </footer>

  <script type="module" src="app.js"></script>
</body>
</html>
